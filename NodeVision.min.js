/**
 * @name NodeVision.js
 * @version 3.0.0
 * @update May 26, 2017
 * @website https://github.com/earthchie/NodeVision.js
 * @license WTFPL v.2 - http://www.wtfpl.net/
 **/
 function NodeVision(t){return"string"==typeof t&&(t=document.querySelectorAll(t)[0]),{isVisible:function(o){var n,e,i={},c={top:{},bottom:{}},p=!1;return i.top=window.scrollY,i.bottom=i.top+window.innerHeight,c.height=t.offsetHeight,c.top=t.getBoundingClientRect().top+i.top,c.bottom=c.top+c.height,n={top:c.top>=i.top&&c.top<=i.bottom,bottom:c.bottom>=i.top&&c.bottom<=i.bottom,body:c.top<=i.bottom&&c.bottom>=i.top},n.isVisible=n.top||n.bottom||n.body,void 0===o?n.isVisible:(o=o||1,(e=o.split(" ")).length>1&&("top"!==e[0]&&"bottom"!==e[0]||(p=e[0]),o=e[1]),c.percentage=parseFloat(o.toString().replace(/%|\,/g,""))/100,c.offset=c.height*c.percentage,"top"===p?c.bottom=c.top+c.offset:"bottom"===p&&(c.top=c.bottom-c.offset),n.top||(c.top=i.top),n.bottom||(c.bottom=i.bottom),c.visible_portion=(c.bottom-c.top)/c.height,n.isVisible&&c.visible_portion>=c.percentage)},ifVisible:function(o){var n,e=this,i=!1,c={};return 2===arguments.length&&(onOut=onIn,onIn=o,o=void 0),window.addEventListener("scroll",function(){n&&clearTimeout(n),n=setTimeout(function(){e.isVisible(o)?i||(i=!0,"function"==typeof onIn&&onIn.bind(t)()):i&&(i=!1,"function"==typeof onOut&&onOut.bind(t)())},10)}),c.then=function(t){return onIn=t,{catch:function(t){onOut=t},else:function(t){onOut=t}}},c.catch=function(t){return onOut=t,{then:function(t){onIn=t}}},c.else=function(t){return onOut=t,{then:function(t){onIn=t}}},c.fromTop=function(){return o&&1===o.split(" ").length&&(o="top "+o),{then:c.then,else:c.else,catch:c.catch}},c.fromBottom=function(){return o&&1===o.split(" ").length&&(o="bottom "+o),{then:c.then,else:c.else,catch:c.catch}},c}}}
